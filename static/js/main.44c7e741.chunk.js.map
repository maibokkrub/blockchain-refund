{"version":3,"sources":["theme.ts","config.ts","utils/contract.ts","components/DataContext/DataContext.js","utils/hooks.ts","components/QRCode/WalletQR.tsx","components/Connector/Connector.tsx","components/Navbar/Navbar.tsx","pages/Home/Home.tsx","components/Table/Table.js","utils/getter.ts","pages/Tourist/Tourist.tsx","pages/Shop/CreateOrder.tsx","pages/Shop/CancelOrder.tsx","pages/Shop/SearchShop.tsx","pages/Shop/Shop.tsx","pages/Government/ApproveOrder.tsx","pages/Government/ConfirmOrder.tsx","pages/Government/RejectOrder.tsx","pages/Government/SearchBuyer.tsx","pages/Government/CreateShop.tsx","pages/Government/Government.tsx","routes.tsx","App.tsx","index.tsx"],"names":["theme","extendTheme","config","initialColorMode","useSystemColorMode","readOnlyUrls","ChainId","Mainnet","readOnlyChainId","multicallAddresses","Localhost","pollingInterval","MAIN_CONTRACT_ADDRESS","MainContractInterface","utils","Interface","MainContractABI","abi","MainContract","Contract","DataContext","createContext","DataProvider","children","useState","isAdmin","setIsAdmin","isShop","setIsShop","Provider","value","useAdmin","address","data","useContext","useContractCall","method","args","undefined","useOrder","account","useEthers","useContractMethod","methodName","useContractFunction","state","send","WalletQR","isOpen","onClose","py","Connector","activateBrowserWallet","useDisclosure","defaultIsOpen","onOpen","onClick","colorScheme","leftIcon","icon","faWallet","slice","NavBar","useShop","h","p","base","lg","my","align","alignContent","ml","to","spacing","pr","display","md","HomePage","minWidth","bg","Table","OrderState","props","classes","makeStyles","root","fontSize","className","style","width","margin","title","columns","options","search","paging","filtering","exportButton","pageSize","pageSizeOptions","headerStyle","backgroundColor","color","padding","rowStyle","_govTransformer","order","id","country","shop","itemName","name","shopName","buyerName","status","itemAmount","amount","toNumber","itemPrice","parseFloat","formatEther","price","itemTotal","mul","TouristPage","claimRefundState","claimRefund","orders","countries","Set","map","x","console","log","refund","useRefundAmount","useEffect","allOrders","_ordersSum","reduce","sum","maxW","wrap","direction","w","alignItems","mx","px","borderRadius","textAlign","fontWeight","pl","_isBigNumber","errorMessage","isLoading","field","type","CreateOrder","buyerAddress","setBuyerAddress","productId","setProductId","setItemPrice","setItemAmount","as","paddingTop","paddingBottom","placeholder","_placeholder","size","variant","onChange","e","target","parseEther","RejectOrder","tableColumns","SearchShop","__orders","useOrderByShop","ShopPage","CancelOrder","ApproveOrder","ConfirmOrder","SearchBuyer","ref","useRef","current","CreateShop","createShopState","createShop","setCountry","setShopName","shopAddress","setShopAddress","m","GovernmentPage","AppRouter","path","element","Home","Tourist","Shop","Government","App","ReactDOM","render","StrictMode","DAppProvider","document","getElementById"],"mappings":"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","file":"static/js/main.44c7e741.chunk.js","sourcesContent":["import { extendTheme } from \"@chakra-ui/react\"\n\nconst config = {\n  initialColorMode: 'dark',\n  useSystemColorMode: false,\n}\n\nconst theme = extendTheme({ config })\nexport default theme","import { ChainId, Config } from '@usedapp/core';\n\nexport const config: Config = {\n    readOnlyUrls: { [ChainId.Mainnet]: \"https://mainnet.infura.io/v3/3165a249c65f4198bf57200109b8fadf\" },\n    readOnlyChainId: ChainId.Mainnet,\n    multicallAddresses: { [ChainId.Localhost]: \"0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9\" },\n    pollingInterval: 1,\n};\n\nexport const MAIN_CONTRACT_ADDRESS: string = `0x5FbDB2315678afecb367f032d93F642f64180aa3`;","import { utils } from 'ethers';\nimport { Contract } from '@ethersproject/contracts';\n\nimport MainContractABI from '../abi/main_contract.abi.json';\nimport { MAIN_CONTRACT_ADDRESS } from '../config';\n\nexport const MainContractInterface = new utils.Interface(MainContractABI.abi);\n\nexport const MainContract = new Contract(MAIN_CONTRACT_ADDRESS, MainContractInterface);","import React, { createContext, useState } from \"react\";\n\nexport const DataContext = createContext();\n\nexport const DataProvider = ({ children }) => {\n    const [isAdmin, setIsAdmin] = useState(false);\n    const [isShop, setIsShop] = useState(true);\n\n    return (\n        <DataContext.Provider\n        value={{\n            isAdmin,\n            isShop,\n            setIsAdmin,\n            setIsShop\n        }}\n        >\n        {children}\n        </DataContext.Provider>\n    );\n};","import { BigNumber } from '@ethersproject/bignumber';\nimport { useContractCall, useContractFunction, useEthers } from \"@usedapp/core\";\nimport { Falsy } from \"@usedapp/core/dist/esm/src/model/types\";\nimport { MainContractInterface, MainContract } from \"./contract\";\nimport { MAIN_CONTRACT_ADDRESS } from '../config';\nimport { _orderTransformer, Order, OrderState } from './getter';\nimport { useContext } from 'react';\nimport { DataContext } from '../components/DataContext/DataContext';\n\nexport function useAdmin(address: string | Falsy): boolean | undefined {\n  const data = useContext(DataContext);\n  const [isAdmin] =\n    useContractCall(\n      address && {\n        abi: MainContractInterface,\n        address: MAIN_CONTRACT_ADDRESS,\n        method: 'isAdmin',\n        args: [address],\n      }\n    ) ?? [];\n  if (isAdmin !== undefined) {\n    data.setIsAdmin(isAdmin);\n  } else {\n    data.setIsAdmin(false);\n  }\n  return isAdmin;\n}\n\nexport function useShop(address: string | Falsy): boolean | undefined {\n  const data = useContext(DataContext);\n  const [isShop] =\n    useContractCall(\n      address && {\n        abi: MainContractInterface,\n        address: MAIN_CONTRACT_ADDRESS,\n        method: 'isShop',\n        args: [address],\n      }\n    ) ?? [];\n    if (isShop !== undefined) {\n      data.setIsShop(isShop);\n    } else {\n      data.setIsShop(false);\n    }\n  return isShop;\n}\n\nexport function useOrder(address?: string | Falsy) {\n  const {account} = useEthers(); \n  address = address || account;\n  const orderList = useContractCall(\n    address && {\n      abi: MainContractInterface,\n      address: MAIN_CONTRACT_ADDRESS,\n      method: 'getAllOrdersByBuyer',\n      args: [address],\n    }\n  ) ?? [];\n  return orderList[0];\n}\n\nexport function useOrderByShop(address?: string | Falsy) {\n  const {account} = useEthers(); \n  address = address || account;\n  const orderList = useContractCall(\n    address && {\n      abi: MainContractInterface,\n      address: MAIN_CONTRACT_ADDRESS,\n      method: 'getAllOrdersByShop',\n      args: [address],\n    }\n  ) ?? [];\n  return orderList[0];\n}\n\nexport function useRefundAmount(address: string| Falsy,country:string[] | Falsy): BigNumber | undefined{\n  const [refundAmount] = useContractCall(\n    address && {\n      abi: MainContractInterface,\n      address: MAIN_CONTRACT_ADDRESS,\n      method: 'getRefundAmount',\n      args: [address, country],\n    } \n  ) ?? [] \n  return refundAmount\n}\n\nexport function useContractMethod(methodName: string) {\n  const { state, send } = useContractFunction(MainContract, methodName, {});\n  return { state, send };\n}\n","import React from \"react\";\nimport { Button, Modal,\n    ModalOverlay,\n    ModalContent,\n    ModalHeader,\n    ModalFooter,\n    ModalBody,\n    ModalCloseButton,\n    Center, } from \"@chakra-ui/react\";\nimport { useEthers } from '@usedapp/core'\nimport QRCode from \"react-qr-code\";\n\n\nfunction WalletQR({isOpen, onClose}:any){\n    const { account } = useEthers()\n\n    return ( \n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent py='4'>\n          <ModalHeader>Your QR Code</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody >\n            <Center>\n            <QRCode value={account ?? ''} />\n            </Center>\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    )\n}\n\nexport default WalletQR;","import React from \"react\";\nimport { Button, useDisclosure } from \"@chakra-ui/react\";\nimport { useEthers } from '@usedapp/core'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faWallet } from '@fortawesome/free-solid-svg-icons'\n\nimport WalletQR from \"../QRCode/WalletQR\";\n\nfunction Connector(){\n    const { activateBrowserWallet, account } = useEthers()\n    const { isOpen, onOpen, onClose } = useDisclosure({defaultIsOpen:false})\n\n    if (!account)\n        return ( \n        <Button \n            onClick={()=>activateBrowserWallet()}\n            colorScheme='blue'\n            leftIcon={<FontAwesomeIcon icon={faWallet}/>}\n        > \n            Connect to Wallet\n        </Button>\n        );\n    else\n        return (\n        <>\n        <Button \n            onClick={onOpen}\n            colorScheme='blue'\n            leftIcon={<FontAwesomeIcon icon={faWallet}/>}\n        > \n            { account?.slice(0,6)+'..'+account?.slice(-4) }\n        </Button>\n        <WalletQR isOpen={isOpen} onClose={onClose} />\n        </>\n        );\n}\n\nexport default Connector;","import React, { useState, useEffect, useContext } from \"react\";\nimport { Flex, Box, Heading, Spacer, HStack } from \"@chakra-ui/react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { useAdmin, useShop } from \"../../utils/hooks\";\nimport { DataContext } from \"../../components/DataContext/DataContext\";\n\nimport Connector from \"../Connector/Connector\";\nimport { Link } from \"react-router-dom\";\n\nfunction NavBar(){ \n    const { account } = useEthers();\n    const data = useContext(DataContext);\n    useAdmin(account);\n    useShop(account);\n    \n    return ( \n        <Flex h='64px' p={{base:'2', lg:'5'}} my='1rem' align='center' alignContent='space-between'> \n        <Box ml='5'>\n            <Heading><Link to=\"/\"> VAT Refund via Blockchain </Link></Heading>\n        </Box>\n        <Spacer />\n        <HStack p='4'>\n            <HStack spacing='2rem' pr='2rem' display={{base:'none', md:'inline'}}>\n                {(() => {\n                    if (data.isAdmin) {\n                        return (\n                            <Link to='/government'>Government</Link>\n                        )\n                    } else if (data.isShop) {\n                        return (\n                            <Link to='/shop'>Shop</Link>\n                        )\n                    } else if (!account) {\n                        return (\n                            <></>\n                        )\n                    } else {\n                        return (\n                            <Link to='/tourist'>Tourist</Link>\n                        )\n                    }\n                })()}\n            </HStack>\n            <Connector />\n        </HStack>\n        </Flex>\n    ); \n}\n\nexport default NavBar;","import React from 'react';\nimport { Container } from \"@chakra-ui/react\";\n\nimport { Navigate } from \"react-router-dom\";\nfunction HomePage() {\n  return (\n    <Container minWidth={{base:'100vw', lg:'80vw'}} h='calc(100vh - 64px - 3rem)' bg='gray'>\n        <Navigate to =\"/tourist\" />\n    </Container> \n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport MaterialTable from \"material-table\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction Table(props) {\n    const classes = makeStyles({\n      root: {\n        fontSize: 16,\n      },\n    });\n  \n    return (\n        <MaterialTable\n            className = {classes.root}\n            style = {{width:'95%', margin:'2rem'}}\n            title = {props.title}\n            data = {props.data}\n            columns = {props.columns}\n            options = {{ \n                search: true, \n                paging: true, \n                filtering: true, \n                exportButton: false,\n                pageSize: 8,\n                pageSizeOptions: [8, 16, 24],\n                headerStyle: { backgroundColor: '#90cdf4', color: '#1a202c', fontSize: 16, padding: \"16px 16px\" },\n                rowStyle: { fontSize: 14 }\n            }}\n        />\n    );\n  }\n  \n  export default Table;","import { BigNumber } from '@ethersproject/bignumber';\nimport { utils } from 'ethers';\n// id: \"0x4a1512f578cce3a45704783dc21128c0\"\n// name: \"222\"\n// amount: Object { _hex: \"0x16\", _isBigNumber: true }\n// price: Object { _hex: \"0x014d\", _isBigNumber: true }\n// ​​shop: \n//     country: \"TH\"\n// ​​​    exists: true\n// ​​​    length: 4\n//     shopAddr: \"0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199\"\n// ​​​    shopName: \"kuay\"\n// state: 0\n\n// OUTPUT country, itemName, amount, price, total, status\nexport const _orderTransformer = (order:Order):OrderView => { \n    return { \n        country:  order.shop.country,\n        itemName: order.name,\n        shopName: order.shop.shopName,\n        status:   order.state,\n        itemAmount: order.amount.toNumber(),\n        itemPrice:  parseFloat(utils.formatEther(order.price)),\n        itemTotal:  parseFloat(utils.formatEther(order.amount.mul(order.price))),\n    }\n}\nexport const _govTransformer = (order:Order) => { \n    return { \n        id: order.id,\n        country:  order.shop.country,\n        itemName: order.name,\n        shopName: order.shop.shopName,\n        buyerName: order.buyerName,\n        status:   order.state,\n        itemAmount: order.amount.toNumber(),\n        itemPrice:  parseFloat(utils.formatEther(order.price)),\n        itemTotal:  parseFloat(utils.formatEther(order.amount.mul(order.price))),\n    }\n}\n\nexport enum OrderState { \n    PENDING   =0,\n    CANCELLED =1,\n    APPROVED  =2, \n    CONFIRMED =3,\n    REJECTED  =4,\n    REFUNDED  =5,\n}\n\nexport interface OrderView{ \n    country: string; \n    itemName: string; \n    shopName: string;\n    status: OrderState; \n    // To be changed to big number\n    itemAmount: number; \n    itemPrice: number;\n    itemTotal: number; \n}\n\nexport interface Order { \n    id: string; \n    name: string; \n    buyerName: string; \n    amount: BigNumber;\n    price: BigNumber;\n    shop: Shop; \n    state: number;\n    1?:any; 2?:any; 3?:any; 4?:any; 5?:any; 6?:any; 7?:any; 8?:any; \n}\n\nexport interface Shop { \n    country: string; \n    exists: boolean; \n    length: number; \n    shopAddr: string; \n    shopName: string;\n    1?:any; 2?:any; 3?:any; 4?:any; 5?:any; 6?:any; 7?:any; 8?:any; \n}","import React, { useEffect, useState } from 'react';\nimport { Container, Flex, Spacer, Box, Center, Text, Image, Button } from \"@chakra-ui/react\";\nimport Table from '../../components/Table/Table';\nimport { useContractMethod, useOrder, useRefundAmount } from '../../utils/hooks';\nimport { useEthers } from '@usedapp/core';\nimport { Order, OrderView, _orderTransformer } from '../../utils/getter';\nimport {utils} from \"ethers\";\n\nfunction TouristPage() {\n  const { state: claimRefundState, send: claimRefund }   = useContractMethod(\"refund\");\n\n  const { account }  = useEthers(); \n\n  const orders = useOrder();\n\n  const countries = [... new Set(orders?.map((x:Order)=> x.shop.country))] as string[]\n  console.log(\"countries\", countries);\n\n  // Todo: add more countries\n  const refund  = useRefundAmount(account, countries)\n  const handleClaimRefund = () => claimRefund(countries)\n\n  useEffect(() => {\n    console.log(\"acc\", account);\n    console.log(\"orders\", orders)\n    console.log(\"refund\", refund) \n  }, [orders,refund])\n\n  // All Table Definitions\n  const tableColumns = [\n    { title: \"Country\", field: \"country\", },\n    { title: \"Name\", field: \"itemName\", },\n    { title: \"Shop\", field: \"shopName\", },\n    { title: \"Amount\", field: \"itemAmount\", type: 'numeric', filtering: false, },\n    { title: \"Price\", field: \"itemPrice\", type: 'numeric', filtering: false, },\n    { title: \"Total\", field: \"itemTotal\", type: 'numeric', filtering: false, },\n    { title: \"Status\", field: \"status\", type: 'numeric', },\n  ];\n  \n  const allOrders = orders?.map((x:Order) => _orderTransformer(x));\n  const _ordersSum = allOrders?.map((x:OrderView)=>x.itemTotal).reduce((x:number,sum:number)=>x+sum, 0);\n  // const _ordersSum = 0;\n\n  \n  return (\n    <Container maxW=\"1300px\" h='calc(100vh - 64px - 3rem)'>\n\n        <Flex wrap='wrap-reverse' direction='row'>\n          <Flex w='100%' direction='column' > \n            <Flex direction='row' alignItems='center' mx='3rem' p='3' px='3rem' bg='blackAlpha.400' borderRadius='10px'>\n              <Flex direction='column' textAlign='left' > \n                <Text fontSize=\"1.25rem\">Pending Orders</Text>\n                <Text fontSize=\"1.75rem\" fontWeight='bold'>{_ordersSum} ETH</Text>\n              </Flex>\n              <Spacer/>\n              <Flex direction='row' alignItems='center'>\n                <Flex direction='column' textAlign='right' color='teal.100' pl='5rem' > \n                  <Text fontSize=\"1.25rem\">Total Refundable Amount</Text>\n                  <Text fontSize=\"1.75rem\" fontWeight='bold' >{ refund?._isBigNumber ? utils.formatEther(refund) : 'Loading..'} ETH</Text>\n                  <Text fontSize='0.75rem' color='red.300'>{claimRefundState.errorMessage}</Text>\n                </Flex>\n                <Button ml='6' px='5' colorScheme=\"teal\" onClick={()=>handleClaimRefund()} isLoading={claimRefundState.status==='Mining'}>Claim</Button>\n              </Flex>\n\n            </Flex>\n            <Flex mx='3rem'> \n              <Table\n                title=\"All Order\"\n                data={allOrders}\n                columns={tableColumns}\n              />\n            </Flex>\n          </Flex>\n        </Flex>\n    </Container> \n  );\n}\n\nexport default TouristPage;\n","import React, { useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\nimport { utils } from 'ethers'\n\nfunction CreateOrder() {\n    const { state ,send}   = useContractMethod(\"createOrder\");\n\n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n    const [productId, setProductId]       = useState(\"\");\n    const [itemPrice, setItemPrice]       = useState(\"\");\n    const [itemAmount, setItemAmount]     = useState(\"\");\n    \n    const handleCreateOrder= () => send(buyerAddress, productId, utils.parseEther(itemPrice), itemAmount)\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px' h='25rem'>\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Create Order\n            </Text>\n            <VStack spacing='3' >\n            <Input\n                            placeholder=\"Buyer Address\"\n                            _placeholder={{ color: \"#1a202c\" }}\n                            size=\"md\"\n                            variant=\"filled\"\n                            bg=\"#90cdf4\"\n                            color=\"#1a202c\"\n                            value={buyerAddress}\n                            onChange={(e)=>setBuyerAddress(e.target.value)}\n                        />\n                        <Input\n                            placeholder=\"Product Name\"\n                            _placeholder={{ color: \"#1a202c\" }}\n                            size=\"md\"\n                            variant=\"filled\"\n                            bg=\"#90cdf4\"\n                            color=\"#1a202c\"\n                            value={productId}\n                            onChange={(e)=>setProductId(e.target.value)}\n                        />\n                        <Input\n                            placeholder=\"Price (Ether)\"\n                            _placeholder={{ color: \"#1a202c\" }}\n                            size=\"md\"\n                            variant=\"filled\"\n                            bg=\"#90cdf4\"\n                            color=\"#1a202c\"\n                            value={itemPrice}\n                            onChange={(e)=>setItemPrice(e.target.value)}\n                        />\n                        <Input\n                            placeholder=\"Amount\"\n                            _placeholder={{ color: \"#1a202c\" }}\n                            size=\"md\"\n                            variant=\"filled\"\n                            bg=\"#90cdf4\"\n                            color=\"#1a202c\"\n                            value={itemAmount}\n                            onChange={(e)=>setItemAmount(e.target.value)}\n                        />\n            </VStack>\n            <VStack p='2'>\n                <Button onClick={handleCreateOrder} bg=\"#1a202c\">\n                    Create Order\n                </Button>\n                <Text color='black'> \n                    TX Status: { state.status }\n                </Text>\n                <Text color='red'> \n                    { state.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    );\n}\n\nexport default CreateOrder;\n","import React, { useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\n\nfunction RejectOrder() {\n    const { state, send }   = useContractMethod(\"rejectOrder\");\n    \n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n    const [productId, setProductId] = useState(\"\");\n  \n    const handleRejectOrder = () => send(buyerAddress, productId)\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px' h='25rem'>\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Cancel Order\n            </Text>\n            <VStack spacing='3' >\n                <Input\n                    placeholder=\"Buyer Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={buyerAddress}\n                    onChange={(e)=>setBuyerAddress(e.target.value)}\n                />\n                <Input\n                    placeholder=\"Product Reference ID\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={productId}\n                    onChange={(e)=>setProductId(e.target.value)}\n                />\n            </VStack>\n            <VStack p='2'>\n                <Button onClick={handleRejectOrder} bg=\"#1a202c\">\n                    Cancel Order\n                </Button>\n                <Text color='black'> \n                    TX Status: { state.status }\n                </Text>\n                <Text color='red'> \n                    { state.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    );\n}\n\nexport default RejectOrder;\n","import React, { useRef, useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport Table from \"../../components/Table/Table\";\nimport { useOrder, useOrderByShop } from \"../../utils/hooks\";\nimport { _govTransformer } from \"../../utils/getter\";\n\nconst tableColumns = [\n    { title: \"TxID\", field: \"id\", },\n    { title: \"Country\", field: \"country\", },\n    { title: \"Name\", field: \"itemName\", },\n    { title: \"Buyer\", field: \"buyerName\", },\n    { title: \"Amount\", field: \"itemAmount\", type: 'numeric', filtering: false, },\n    { title: \"Price\", field: \"itemPrice\", type: 'numeric', filtering: false, },\n    { title: \"Total\", field: \"itemTotal\", type: 'numeric', filtering: false, },\n    { title: \"Status\", field: \"status\", type: 'numeric', },\n];\n\nfunction SearchShop() {\n\n    const __orders = useOrderByShop(); \n    const orders = __orders?.map((x:any)=>_govTransformer(x))\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px'>\n            <HStack w='full'> \n                <Table\n                    title=\"Order\"\n                    data={orders}\n                    columns={tableColumns}\n                /> \n            </HStack>\n        </VStack>\n    );\n}\n\nexport default SearchShop;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport {\n    Container,\n    HStack,\n} from \"@chakra-ui/react\";\n\nimport CreateOrder from \"./CreateOrder\";\nimport CancelOrder from \"./CancelOrder\";\nimport SearchShop from \"./SearchShop\";\nimport { DataContext } from \"../../components/DataContext/DataContext\";\n\nfunction ShopPage() {\n    const data = useContext(DataContext);\n    \n    return (\n        <Container maxW=\"1300px\" h=\"calc(100vh - 64px - 3rem)\">\n            { data.isShop ? \n                <>\n                    <HStack w='full' align='baseline'> \n                        <CreateOrder />\n                        <CancelOrder />\n                    </HStack>\n                    <HStack w='full'>\n                        <SearchShop />\n                    </HStack>\n                </>\n                :\n                <></>\n            }\n        </Container>\n    );\n}\n\nexport default ShopPage;\n","import React, { useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\n\nfunction ApproveOrder() {\n    const { state, send }   = useContractMethod(\"approveOrder\");\n    \n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n    const [productId, setProductId] = useState(\"\");\n  \n    const handleApproveOrder = () => send(buyerAddress, productId)\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px'>\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Approve Order\n            </Text>\n            <VStack spacing='3' >\n                <Input\n                    placeholder=\"Buyer Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={buyerAddress}\n                    onChange={(e)=>setBuyerAddress(e.target.value)}\n                />\n                <Input\n                    placeholder=\"Product Reference ID\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={productId}\n                    onChange={(e)=>setProductId(e.target.value)}\n                />\n            </VStack>\n            <VStack p='2'>\n                <Button onClick={handleApproveOrder} bg=\"#1a202c\">\n                    Approve Order\n                </Button>\n                <Text color='black'> \n                    TX Status: { state.status }\n                </Text>\n                <Text color='red'> \n                    { state.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    );\n}\n\nexport default ApproveOrder;\n","import React, { useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\n\nfunction ConfirmOrder() {\n    const { state, send }   = useContractMethod(\"confirmOrder\");\n    \n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n    const [productId, setProductId] = useState(\"\");\n\n    \n    const handleConfirmOrder = () => send(buyerAddress, productId)\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px'>\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Confirm Order\n            </Text>\n            <VStack spacing='3' >\n                <Input\n                    placeholder=\"Buyer Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={buyerAddress}\n                    onChange={(e)=>setBuyerAddress(e.target.value)}\n                />\n                <Input\n                    placeholder=\"Product Reference ID\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={productId}\n                    onChange={(e)=>setProductId(e.target.value)}\n                />\n            </VStack>\n            <VStack p='2'>\n                <Button onClick={handleConfirmOrder} bg=\"#1a202c\">\n                    Confirm Order\n                </Button>\n                <Text color='black'> \n                    TX Status: { state.status }\n                </Text>\n                <Text color='red'> \n                    { state.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    );\n}\n\nexport default ConfirmOrder;\n","import React, { useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\n\nfunction RejectOrder() {\n    const { state, send }   = useContractMethod(\"rejectOrder\");\n    \n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n    const [productId, setProductId] = useState(\"\");\n  \n    const handleRejectOrder = () => send(buyerAddress, productId)\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px'>\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Reject Order\n            </Text>\n            <VStack spacing='3' >\n                <Input\n                    placeholder=\"Buyer Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={buyerAddress}\n                    onChange={(e)=>setBuyerAddress(e.target.value)}\n                />\n                <Input\n                    placeholder=\"Product Reference ID\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={productId}\n                    onChange={(e)=>setProductId(e.target.value)}\n                />\n            </VStack>\n            <VStack p='2'>\n                <Button onClick={handleRejectOrder} bg=\"#1a202c\">\n                    Reject Order\n                </Button>\n                <Text color='black'> \n                    TX Status: { state.status }\n                </Text>\n                <Text color='red'> \n                    { state.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    );\n}\n\nexport default RejectOrder;\n","import React, { useRef, useState } from \"react\";\nimport {\n    Input,\n    Button,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport Table from \"../../components/Table/Table\";\nimport { useOrder } from \"../../utils/hooks\";\nimport { _govTransformer } from \"../../utils/getter\";\n\nconst tableColumns = [\n    { title: \"TxID\", field: \"id\", },\n    { title: \"Country\", field: \"country\", },\n    { title: \"Name\", field: \"itemName\", },\n    { title: \"Shop\", field: \"shopName\", },\n    { title: \"Amount\", field: \"itemAmount\", type: 'numeric', filtering: false, },\n    { title: \"Price\", field: \"itemPrice\", type: 'numeric', filtering: false, },\n    { title: \"Total\", field: \"itemTotal\", type: 'numeric', filtering: false, },\n    { title: \"Status\", field: \"status\", type: 'numeric', },\n];\n\nfunction SearchBuyer() {\n\n    const ref = useRef<HTMLInputElement>(null); \n    const [buyerAddress, setBuyerAddress] = useState(\"\");\n\n    const __orders = useOrder(buyerAddress === \"\" ? undefined : buyerAddress);\n    const orders = __orders?.map((x:any)=>_govTransformer(x))\n\n    const handleSearchBuyer = () => setBuyerAddress(ref.current?.value || '');\n\n    return (\n        <VStack w='full' bg='whitesmoke' my='1' borderRadius='10px' >\n            <Text\n                fontSize=\"28px\"\n                as=\"b\"\n                paddingTop=\"27px\"\n                paddingBottom=\"9px\"\n                color=\"#1a202c\"\n            >\n                Search Buyer\n            </Text>\n            <HStack w='50%' bg='whitesmoke' my='1' borderRadius='10px' >\n                <Input\n                    ref={ref}\n                    placeholder=\"Buyer Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                />\n                <Button onClick={handleSearchBuyer} bg=\"#1a202c\">\n                    Search Buyer\n                </Button>\n            </HStack>\n            <HStack w='full'> \n                <Table\n                    title=\"Order\"\n                    data={orders}\n                    columns={tableColumns}\n                /> \n            </HStack>\n        </VStack>\n    );\n}\n\nexport default SearchBuyer;\n","import React, { useState } from 'react'; \nimport {\n    Flex,\n    Box,\n    Stack,\n    Input,\n    Button,\n    Center,\n    Text,\n    VStack,\n} from \"@chakra-ui/react\";\nimport { useContractMethod } from \"../../utils/hooks\";\n\nfunction CreateShop(){ \n    const { state: createShopState, send: createShop }   = useContractMethod(\"createShop\");\n\n    const [country, setCountry]         = useState(\"\");\n    const [shopName, setShopName]       = useState(\"\");\n    const [shopAddress, setShopAddress] = useState(\"\");\n\n    const handleCreateShop = () => createShop(shopAddress, shopName, country)\n\n    return ( \n        <VStack\n            w=\"full\"\n            m=\"4\"\n            bg=\"white\"\n            paddingBottom=\"45px\"\n            borderRadius=\"10px\"\n        >\n            <Center>\n                <Text\n                    fontSize=\"28px\"\n                    as=\"b\"\n                    paddingTop=\"27px\"\n                    paddingBottom=\"18px\"\n                    color=\"#1a202c\"\n                >\n                    Create Shop\n                </Text>\n            </Center>\n            <Stack spacing={3}>\n                <Input\n                    onChange={(e) => setShopAddress(e.target.value)}\n                    placeholder=\"Shop Address\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={shopAddress}\n                />\n                <Input\n                    onChange={(e) => setCountry(e.target.value)}\n                    placeholder=\"Country\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={country}\n                />\n                <Input\n                    onChange={(e) => setShopName(e.target.value)}\n                    placeholder=\"Shop Name\"\n                    _placeholder={{ color: \"#1a202c\" }}\n                    size=\"md\"\n                    variant=\"filled\"\n                    bg=\"#90cdf4\"\n                    color=\"#1a202c\"\n                    value={shopName}\n                />\n            </Stack>\n\n            <VStack>\n                <Button onClick={handleCreateShop} bg=\"#1a202c\">\n                    Create Shop\n                </Button>\n                <Text color='black'> \n                    { createShopState.status }\n                </Text>\n                <Text color='red'> \n                    { createShopState.errorMessage } \n                </Text>\n            </VStack>\n        </VStack>\n    )\n}\n\nexport default CreateShop;","import React, { useEffect, useState, useContext } from \"react\";\nimport {\n    Container,\n    Flex,\n    Spacer,\n    Box,\n    Stack,\n    Input,\n    Button,\n    Center,\n    Text,\n    VStack,\n    HStack,\n} from \"@chakra-ui/react\";\nimport { useContractCall, useContractFunction, useEthers } from \"@usedapp/core\";\nimport { useAdmin, useContractMethod, useOrder, useShop } from \"../../utils/hooks\";\nimport ApproveOrder from \"./ApproveOrder\";\nimport ConfirmOrder from \"./ConfirmOrder\";\nimport RejectOrder from \"./RejectOrder\";\nimport SearchBuyer from \"./SearchBuyer\";\nimport CreateShop from \"./CreateShop\";\nimport { _govTransformer } from \"../../utils/getter\";\nimport { DataContext } from \"../../components/DataContext/DataContext\";\n\nfunction GovernmentPage() {\n    const { account } = useEthers();\n    const isAdmin = useAdmin(account);\n    const data = useContext(DataContext);\n\n    return (\n        <Container maxW=\"1300px\" h=\"calc(100vh - 64px - 3rem)\" >\n            { data.isAdmin ? \n                <>\n                    <HStack w='full'>\n                        <CreateShop />\n                    </HStack>\n                    <HStack w='full'> \n                        <ApproveOrder />\n                        <RejectOrder />\n                        <ConfirmOrder />\n                    </HStack>\n                    <SearchBuyer />\n                </>\n                : \n                <></>\n            }\n        </Container>\n    );\n}\n\nexport default GovernmentPage;\n","import React from 'react';\nimport {\n    Routes,\n    Route,\n  } from \"react-router-dom\";\n\nimport HomePage from './pages/Home/Home';\nimport TouristPage from './pages/Tourist/Tourist';\nimport ShopPage from './pages/Shop/Shop';\nimport GovernmentPage from './pages/Government/Government';\n\nfunction AppRouter() {\n  return (\n    <Routes>\n        <Route path='/'           element={<HomePage />} />\n        <Route path='/tourist'    element={<TouristPage />} />\n        <Route path='/shop'       element={<ShopPage />} />\n        <Route path='/government' element={<GovernmentPage />} /> \n    </Routes>\n  );\n}\n\nexport default AppRouter;\n","import React from \"react\";\nimport { RecoilRoot } from \"recoil\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport theme from \"./theme\";\n\nimport NavBar from \"./components/Navbar/Navbar\";\nimport Route from \"./routes\";\n\nfunction App() {\n    return (\n        <ChakraProvider theme={theme}>\n            <RecoilRoot>\n                <BrowserRouter>\n                    <NavBar />\n                    <Route />\n                </BrowserRouter>\n            </RecoilRoot>\n        </ChakraProvider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ColorModeScript } from \"@chakra-ui/react\";\n\nimport App from \"./App\";\nimport theme from \"./theme\";\nimport { DAppProvider } from \"@usedapp/core\";\nimport { config } from \"./config\";\n\nimport { DataProvider } from './components/DataContext/DataContext';\n\nReactDOM.render(\n    <React.StrictMode>\n        <ColorModeScript initialColorMode={theme.config.initialColorMode} />\n        <DAppProvider config={config}>\n            <DataProvider>\n                <App />\n            </DataProvider>\n        </DAppProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}